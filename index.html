<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MIX // Intranet Classifié</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="scanlines" aria-hidden="true"></div>
    <div class="glow" aria-hidden="true"></div>

    <div id="app" class="app">
      <aside class="sidebar" id="sidebar">
        <div class="brand">
          <span>MIX</span>
          <small>INTRANET CLASSIFIÉ</small>
        </div>
        <nav>
          <button data-section="dashboard" class="nav-btn active">Centre de Commande</button>
          <button data-section="oracle" class="nav-btn">Oracle</button>
          <button data-section="communications" class="nav-btn">Signal Archives</button>
          <button data-section="operations" class="nav-btn">Opérations</button>
          <button data-section="admin" class="nav-btn">Administration</button>
          <button data-section="notes" class="nav-btn">Bloc-Notes</button>
        </nav>
        <div class="session">
          <div class="session-label">Auto-Lock</div>
          <div id="session-timer" class="session-timer">10:00</div>
          <div class="session-meta">Synchronisé multi-onglets</div>
        </div>
      </aside>

      <header class="topbar">
        <button id="menu-btn" class="menu-btn" aria-label="Ouvrir le menu">☰</button>
        <div class="topbar-title">
          <span>MIX / Accès Terrain</span>
          <small id="agent-id">AGENT-UNASSIGNED</small>
        </div>
        <div class="topbar-status">
          <span class="status-dot"></span>
          <span>SECURISÉ</span>
        </div>
      </header>

      <main class="main">
        <section id="dashboard" class="section active">
          <div class="section-header">
            <h1>Centre de Commande</h1>
            <span class="chip">PROTOCOLE LIVE</span>
          </div>
          <div class="grid two">
            <div class="panel">
              <h2>Carte de Déploiement Global</h2>
              <div class="map">
                <svg viewBox="0 0 800 400" aria-hidden="true">
                  <path
                    d="M80,180 L140,120 L220,140 L250,110 L320,120 L360,150 L420,160 L460,140 L520,150 L560,200 L610,210 L650,190 L700,220 L680,260 L620,270 L580,250 L520,260 L470,240 L420,220 L380,250 L340,240 L300,260 L260,230 L220,210 L180,220 L140,240 L100,220 Z"
                    fill="rgba(0,255,255,0.08)"
                    stroke="rgba(0,255,255,0.4)"
                    stroke-width="2"
                  />
                </svg>
                <div class="pulse red" style="top: 44%; left: 36%"></div>
                <div class="pulse red" style="top: 55%; left: 62%"></div>
                <div class="pulse green" style="top: 35%; left: 72%"></div>
                <div class="pulse green" style="top: 63%; left: 48%"></div>
              </div>
            </div>
            <div class="panel">
              <h2>Code du Jour</h2>
              <div class="code-box">
                <div class="code-line">
                  <span class="label">Challenge</span>
                  <strong id="daily-challenge">Vipère</strong>
                </div>
                <div class="code-line">
                  <span class="label">Réponse</span>
                  <strong id="daily-response">Crochet</strong>
                </div>
                <button id="rotate-code" class="btn">Rafraîchir</button>
              </div>
            </div>
          </div>
          <div class="panel">
            <h2>Journal de Flux</h2>
            <ul id="activity-log" class="activity-log"></ul>
          </div>
        </section>

        <section id="oracle" class="section">
          <div class="section-header">
            <h1>Oracle — Intelligence Database 2.0</h1>
            <span class="chip">Gemini Core</span>
          </div>
          <div class="grid two">
            <div class="panel">
              <h2>Nouvelle Fiche</h2>
              <form id="intel-form" class="form">
                <label>
                  Nom / Alias
                  <input type="text" name="name" required />
                </label>
                <label>
                  Allégeance
                  <input type="text" name="allegiance" required />
                </label>
                <label>
                  Niveau de menace
                  <select name="threat" required>
                    <option value="Faible">Faible</option>
                    <option value="Modéré">Modéré</option>
                    <option value="Élevé">Élevé</option>
                    <option value="Critique">Critique</option>
                  </select>
                </label>
                <label>
                  Localisation
                  <input type="text" name="location" required />
                </label>
                <label>
                  Notes de terrain
                  <textarea name="notes" rows="3"></textarea>
                </label>
                <button class="btn" type="submit">Enregistrer</button>
              </form>
            </div>
            <div class="panel">
              <h2>Recherche augmentée</h2>
              <div class="oracle-query">
                <input id="oracle-question" type="text" placeholder="Question tactique" />
                <button id="oracle-ask" class="btn">Analyser</button>
              </div>
              <div id="oracle-answer" class="oracle-answer">Gemini en attente.</div>
              <div class="intel-list" id="intel-list"></div>
            </div>
          </div>
        </section>

        <section id="communications" class="section">
          <div class="section-header">
            <h1>Signal Archives</h1>
            <span class="chip">Canaux Sécurisés</span>
          </div>
          <div class="grid three">
            <div class="panel">
              <h2>Canaux</h2>
              <ul id="channel-list" class="list"></ul>
              <button id="new-channel" class="btn">Nouveau Canal</button>
            </div>
            <div class="panel chat">
              <div class="chat-header">
                <div>
                  <h2 id="chat-title">#alpha</h2>
                  <div id="chat-members" class="members"></div>
                </div>
                <button id="dissolve-channel" class="btn danger">DISSOUTRE</button>
              </div>
              <div id="chat-messages" class="chat-messages"></div>
              <div class="chat-input">
                <input id="chat-text" type="text" placeholder="Transmission..." />
                <button id="send-message" class="btn">Envoyer</button>
              </div>
            </div>
            <div class="panel">
              <h2>Messages Directs</h2>
              <ul class="list" id="dm-list"></ul>
            </div>
          </div>
        </section>

        <section id="operations" class="section">
          <div class="section-header">
            <h1>Gestion des Opérations</h1>
            <span class="chip">Control AI</span>
          </div>
          <div class="grid two">
            <div class="panel">
              <h2>Briefings IA</h2>
              <div id="briefing-list" class="briefing-list"></div>
              <button id="generate-briefing" class="btn">Générer briefing</button>
            </div>
            <div class="panel">
              <h2>Rapport de Mission</h2>
              <form id="report-form" class="form">
                <label>
                  Mission
                  <input type="text" name="mission" required />
                </label>
                <label>
                  Rapport
                  <textarea name="report" rows="6" required></textarea>
                </label>
                <button class="btn" type="submit">Archiver</button>
              </form>
              <div id="report-list" class="report-list"></div>
            </div>
          </div>
        </section>

        <section id="admin" class="section">
          <div class="section-header">
            <h1>Administration</h1>
            <span class="chip">Commandant</span>
          </div>
          <div class="grid two">
            <div class="panel">
              <h2>Recrutement & Permissions</h2>
              <form id="agent-form" class="form">
                <label>
                  ID Agent
                  <input type="text" name="agentId" required />
                </label>
                <label>
                  Statut
                  <select name="status">
                    <option value="Actif">Actif</option>
                    <option value="En Mission">En Mission</option>
                    <option value="Bloqué">Bloqué</option>
                  </select>
                </label>
                <label>
                  Permission
                  <input type="text" name="permission" placeholder="Commandant / Analyste" />
                </label>
                <button class="btn" type="submit">Enregistrer</button>
              </form>
              <div id="agent-list" class="list"></div>
            </div>
            <div class="panel">
              <h2>Porte-documents Numérique</h2>
              <p>Export / Import JSON chiffré local.</p>
              <div class="sync-actions">
                <button id="export-data" class="btn">Exporter</button>
                <label class="btn ghost">
                  Importer
                  <input id="import-data" type="file" accept="application/json" hidden />
                </label>
              </div>
              <div id="sync-status" class="sync-status">En attente.</div>
            </div>
          </div>
        </section>

        <section id="notes" class="section">
          <div class="section-header">
            <h1>Bloc-Notes Personnel</h1>
            <span class="chip">Local Only</span>
          </div>
          <div class="panel">
            <textarea id="notes-area" rows="12" placeholder="Observations rapides..."></textarea>
            <div class="note-meta" id="notes-meta">Sauvegarde locale active.</div>
          </div>
        </section>
      </main>
    </div>

    <div id="login-screen" class="overlay active">
      <div class="panel login">
        <h1>Portail de Décryptage</h1>
        <p>Identifiez-vous pour accéder à l'intranet MIX.</p>
        <form id="login-form" class="form">
          <label>
            ID Agent
            <input type="text" name="agent" placeholder="CHIEF-01" required />
          </label>
          <label>
            Clé d'accès
            <input type="password" name="key" required />
          </label>
          <button class="btn" type="submit">Déverrouiller</button>
        </form>
      </div>
    </div>

    <div id="gatekeeping" class="overlay">
      <div class="panel gatekeeping">
        <h1>Protocole 7</h1>
        <p>
          Tout nouvel agent doit valider le règlement de sécurité. Sans validation, l'accès est
          bloqué.
        </p>
        <div class="protocols">
          <ul>
            <li>Ne jamais divulguer d'identifiants en clair.</li>
            <li>Effacer toute preuve de mission après extraction.</li>
            <li>Rapporter toute intrusion sans délai.</li>
          </ul>
        </div>
        <button id="accept-protocols" class="btn">J'ACCEPTE LES PROTOCOLES SÉCURISÉS</button>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
